<div class="bg-white p-6 rounded-lg shadow max-w-3xl mx-auto">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-xl font-bold">Jogadores</h2>
    <button (click)="openModal()"
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      + Jogador
    </button>
  </div>

  <div *ngIf="players.length > 0; else emptyState">
    <table class="min-w-full divide-y divide-gray-200 text-sm text-left">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2">Nome</th>
          <th class="px-4 py-2">Mensalista</th>
          <th class="px-4 py-2 text-right">Ações</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        <tr *ngFor="let p of players">
          <td class="px-4 py-2 font-medium text-gray-800">{{ p.name }}</td>
          <td class="px-4 py-2">{{ p.isMonthly ? 'Sim' : 'Não' }}</td>
          <td class="px-4 py-2 text-right space-x-2">
            <!-- Botão de editar -->
            <button (click)="startEditing(p)" class="text-blue-600 hover:text-blue-800" title="Editar">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6H9v-2l6-6z" />
              </svg>
            </button>

            <!-- Botão de apagar -->
            <button (click)="deletePlayer(p)" class="text-red-600 hover:text-red-800" title="Remover">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #emptyState>
    <div class="text-center text-gray-500 italic py-8">
      Nenhum jogador cadastrado ainda. Clique no botão acima para começar!
    </div>
  </ng-template>

</div>

<app-modal [show]="showModal" (close)="closeModal()">
  <h3 class="text-lg font-semibold mb-4">Cadastrar novo jogador</h3>  
  <form (ngSubmit)="savePlayer()" class="space-y-4">
    <input [(ngModel)]="name" name="name" type="text" placeholder="Nome do jogador"
           class="w-full border rounded px-3 py-2" required />

    <div class="mb-4">
      <label class="inline-flex items-center">
        <input type="checkbox" [(ngModel)]="isMonthly" name="isMonthly" class="form-checkbox text-blue-600">
        <span class="ml-2">Mensalista?</span>
      </label>
    </div>


    <div class="flex justify-end gap-2">
      <button type="button" (click)="closeModal()" class="text-gray-600 hover:underline">
        Cancelar
      </button>
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
        Salvar
      </button>
    </div>
  </form>
</app-modal>
